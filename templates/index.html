{% extends 'layout.html' %}

{% block style %}
{{ super() }}
<link rel="stylesheet" href="static/css/register.css">
{% endblock style %}

{% block content %}
<div class="row">
  <div class="col col-md-6 col-lg-4 offset-md-3 offset-lg-4">
    <div class="register-form-wrapper">
      <h2 class="text-center">Sign Up</h2>
      <form class="register-form" action="" method="POST">
        {{ registration_form.hidden_tag() }}
        <div class="form-group">
          {{ registration_form.username.label }}
          {% if registration_form.username.errors %}
            {{ registration_form.username(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
              {% for error in registration_form.username.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ registration_form.username(class="form-control form-control-lg") }}
          {% endif %}
        </div>
        <div class="form-group">
          {{ registration_form.email.label }}
          {% if registration_form.email.errors %}
            {{ registration_form.email(class="form-control is-invalid")}}
            <div class="invalid-feedback">
              {% for error in registration_form.email.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
          {{ registration_form.email(class="form-control") }}
          {% endif %}
        </div>
        <div class="form-group">
          {{ registration_form.password.label }}
          {% if registration_form.password.errors %}
            {{ registration_form.password(class="form-control is-invalid") }}
            <div class="invalid-feedback">
              {% for error in registration_form.password.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
          {% endif %}
          {{ registration_form.password(class="form-control") }}
        </div>
        <div class="form-group">
          {{ registration_form.confirm_password.label }}
          {% if registration_form.confirm_password.errors %}
            {{ registration_form.confirm_password(class="form-control is-invalid")}}
            <div class="invalid-feedback">
              {% for error in registration_form.confirm_password.errors %}
                <span>{{ error }}</span>
              {% endfor %}
            </div>
          {% else %}
            {{ registration_form.confirm_password(class="form-control") }}
          {% endif %}

        </div>
        {{ registration_form.submit(class="btn btn-primary btn-block") }}
      </form>
      <p class="mt-3 text-center"><a href="#login" id="login">Already have an account? Login here</a></p>
    </div>
    <div class="login-form-wrapper">
      <h2 class="text-center">Log In</h2>
      <form class="register-form">
        {{ login_form.hidden_tag() }}
        <div class="form-group">
          {{ login_form.email.label }}
          {{ login_form.email(class="form-control") }}
        </div>
        <div class="form-group">
          {{ login_form.password.label }}
          {{ login_form.password(class="form-control") }}
        </div>
        <div class="form-group form-check">
          {{ login_form.remember }}
          {{ login_form.remember.label }}
        </div>
        {{ login_form.submit(class="btn btn-primary btn-block") }}
      </form>
      <p class="mt-3 text-center"><a href="#register" id="register">Already have an account? Login here</a></p>
    </div>
  </div>
</div>
{% endblock content %}

{% block script %}
{{ super() }}
<script>
  $(document).ready(function(){
    {% if show_form == 'register' %}
    $('.login-form-wrapper').hide();
    {% else %}
    $('.register-form-wrapper').hide();
    {% endif %}
    $('#login').click(function(e){
      e.preventDefault();
      $('.register-form-wrapper').slideUp("slow", function() {
        $('.login-form-wrapper').slideDown();
      });
    })
    $('#register').click(function(e){
      e.preventDefault()
      $('.login-form-wrapper').slideUp("slow", function(){
        $('.register-form-wrapper').slideDown();
      });
    })
  })
</script>
{% endblock script %}
